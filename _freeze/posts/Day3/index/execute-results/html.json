{
  "hash": "3f0bdf2fa672153537e31948feb5ca3c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Day3\"\nauthor: \"Gayatri Jadhav\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: scales\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\nLoading required package: ggridges\n\nNew to ggformula?  Try the tutorials: \n\tlearnr::run_tutorial(\"introduction\", package = \"ggformula\")\n\tlearnr::run_tutorial(\"refining\", package = \"ggformula\")\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following object is masked from 'package:scales':\n\n    rescale\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(kableExtra)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'kableExtra'\n\nThe following object is masked from 'package:dplyr':\n\n    group_rows\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi <- read_csv(\"https://vincentarelbundock.github.io/Rdatasets/csv/modeldata/taxi.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 10000 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): tip, company, local, dow, month\ndbl (3): rownames, distance, hour\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(taxi)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 10,000\nColumns: 8\n$ rownames <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ tip      <chr> \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\"…\n$ distance <dbl> 17.19, 0.88, 18.11, 20.70, 12.23, 0.94, 17.47, 17.67, 1.85, 1…\n$ company  <chr> \"Chicago Independents\", \"City Service\", \"other\", \"Chicago Ind…\n$ local    <chr> \"no\", \"yes\", \"no\", \"no\", \"no\", \"yes\", \"no\", \"no\", \"no\", \"no\",…\n$ dow      <chr> \"Thu\", \"Thu\", \"Mon\", \"Mon\", \"Sun\", \"Sat\", \"Fri\", \"Sun\", \"Fri\"…\n$ month    <chr> \"Feb\", \"Mar\", \"Feb\", \"Apr\", \"Mar\", \"Apr\", \"Mar\", \"Jan\", \"Apr\"…\n$ hour     <dbl> 16, 8, 18, 8, 21, 23, 12, 6, 12, 14, 18, 11, 12, 19, 17, 13, …\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(taxi)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |      |\n|:------------------------|:-----|\n|Name                     |taxi  |\n|Number of rows           |10000 |\n|Number of columns        |8     |\n|_______________________  |      |\n|Column type frequency:   |      |\n|character                |5     |\n|numeric                  |3     |\n|________________________ |      |\n|Group variables          |None  |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|tip           |         0|             1|   2|   3|     0|        2|          0|\n|company       |         0|             1|   5|  28|     0|        7|          0|\n|local         |         0|             1|   2|   3|     0|        2|          0|\n|dow           |         0|             1|   3|   3|     0|        7|          0|\n|month         |         0|             1|   3|   3|     0|        4|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|    mean|      sd| p0|     p25|     p50|     p75|    p100|hist  |\n|:-------------|---------:|-------------:|-------:|-------:|--:|-------:|-------:|-------:|-------:|:-----|\n|rownames      |         0|             1| 5000.50| 2886.90|  1| 2500.75| 5000.50| 7500.25| 10000.0|▇▇▇▇▇ |\n|distance      |         0|             1|    6.22|    7.38|  0|    0.94|    1.78|   15.56|    42.3|▇▁▂▁▁ |\n|hour          |         0|             1|   14.18|    4.36|  0|   11.00|   15.00|   18.00|    23.0|▁▃▅▇▃ |\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ninspect(taxi)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\ncategorical variables:  \n     name     class levels     n missing\n1     tip character      2 10000       0\n2 company character      7 10000       0\n3   local character      2 10000       0\n4     dow character      7 10000       0\n5   month character      4 10000       0\n                                   distribution\n1 yes (92.1%), no (7.9%)                       \n2 other (27.1%) ...                            \n3 no (81.2%), yes (18.8%)                      \n4 Thu (19.6%), Wed (17.5%), Tue (16.3%) ...    \n5 Apr (31.8%), Mar (31.4%), Feb (20.4%) ...    \n\nquantitative variables:  \n      name   class min      Q1  median        Q3     max        mean\n1 rownames numeric   1 2500.75 5000.50 7500.2500 10000.0 5000.500000\n2 distance numeric   0    0.94    1.78   15.5625    42.3    6.224144\n3     hour numeric   0   11.00   15.00   18.0000    23.0   14.177300\n           sd     n missing\n1 2886.895680 10000       0\n2    7.381397 10000       0\n3    4.359904 10000       0\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## Convert `dow`, `local`, and `month` into ordered factors\ntaxi_modified <- taxi %>%\n  mutate(\n    dow = factor(dow,\n      levels = c(\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"),\n      labels = c(\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"),\n      ordered = TRUE\n    ),\n    ##\n    local = factor(local,\n      levels = c(\"no\", \"yes\"),\n      labels = c(\"no\", \"yes\"),\n      ordered = TRUE\n    ),\n    ##\n    month = factor(month,\n      levels = c(\"Jan\", \"Feb\", \"Mar\", \"Apr\"),\n      labels = c(\"Jan\", \"Feb\", \"Mar\", \"Apr\"),\n      ordered = TRUE\n    )\n  )\ntaxi_modified %>% glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 10,000\nColumns: 8\n$ rownames <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ tip      <chr> \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\"…\n$ distance <dbl> 17.19, 0.88, 18.11, 20.70, 12.23, 0.94, 17.47, 17.67, 1.85, 1…\n$ company  <chr> \"Chicago Independents\", \"City Service\", \"other\", \"Chicago Ind…\n$ local    <ord> no, yes, no, no, no, yes, no, no, no, no, no, no, no, yes, no…\n$ dow      <ord> Thu, Thu, Mon, Mon, Sun, Sat, Fri, Sun, Fri, Tue, Tue, Sun, W…\n$ month    <ord> Feb, Mar, Feb, Apr, Mar, Apr, Mar, Jan, Apr, Mar, Mar, Apr, A…\n$ hour     <dbl> 16, 8, 18, 8, 21, 23, 12, 6, 12, 14, 18, 11, 12, 19, 17, 13, …\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## Set graph theme\ntheme_set(new = theme_classic())\n##\n\n#the tilda symbol below '~' signifies that tip is on the x-axis. So basically tilda(~) to the left of anything means that variable is on the x-axis. So here, local is also on the x-axis, but as color.\n#color = ~local only shows the outline, whereas, fill is used to color it inside as well\n#two variable are used here, tip and local. local is marries to color.\ngf_bar(~tip, data = taxi_modified, fill = ~local,) %>%\n  gf_labs(title = \"Plot 1A: Counts of Tips\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## Set graph theme\ntheme_set(new = theme_classic())\n##\n\n#position =\"stack\" is default\ngf_bar(~tip, data = taxi_modified, fill = ~local, position=\"dodge\",) %>%\n  gf_labs(title = \"Plot 1A: Counts of Tips\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## Set graph theme\ntheme_set(new = theme_classic())\n##\n\n#Question-Do non-local people tip more than local people?\n\n## Showing \"per capita\" percentages\n## Better labelling of Y-axis\ntaxi_modified %>%\n  gf_bar(~local,\n    fill = ~tip,\n    position = \"fill\"\n  ) %>%\n  gf_labs(\n    title = \"Plot 2D: Filled Bar Chart\",\n    subtitle = \"Shows Per group differences in Proportions!\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## Set graph theme\ntheme_set(new = theme_classic())\n#\n\n#Question-which company has the most non-tippers?\n## Showing \"per capita\" percentages\n## Better labelling of Y-axis\ntaxi_modified %>%\n  gf_bar(~company, fill = ~tip, position = \"fill\") %>%\n  gf_labs(\n    title = \"Plot 2D: Filled Bar Chart\",\n    subtitle = \"Shows Per group differences in Proportions!\"\n  ) %>%\n  gf_theme(theme(axis.text.x = element_text(size = 6, angle = 45, hjust = 1)))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## Set graph theme\ntheme_set(new = theme_classic())\n\n#5pm is the busiest hour and 3pm the least.\n##\ngf_bar(~hour, fill = ~tip, data = taxi_modified) %>%\n  gf_labs(title = \"Plot B: Counts of Tips by Hour\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## Set graph theme\ntheme_set(new = theme_classic())\n\n#5pm is the busiest hour and 3pm the least.\n##\ngf_bar(~hour, fill = ~tip, data = taxi_modified, position = \"fill\") %>%\n  gf_labs(title = \"Plot B: Counts of Tips by Hour\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n##\n## This may be too busy a graph...\ngf_bar(~ dow | hour, fill = ~tip, data = taxi_modified, position = \"fill\") %>%\n  gf_labs(\n    title = \"Plot F: Counts of Tips by Hour and Day of Week\",\n    subtitle = \"Is this plot arrangement easy to grasp?\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n##\n## This may be too busy a graph...\ngf_bar(~hour, fill = ~tip, data = taxi_modified, position = \"fill\") %>%\n  gf_labs(\n    title = \"Plot F: Counts of Tips by Hour and Day of Week\",\n    subtitle = \"Is this plot arrangement easy to grasp?\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\n# Dataset -2 \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(HELPrct)\ninspect(HELPrct)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\ncategorical variables:  \n       name  class levels   n missing\n1    anysub factor      2 246     207\n2       sex factor      2 453       0\n3       g1b factor      2 453       0\n4  homeless factor      2 453       0\n5      link factor      2 431      22\n6   racegrp factor      4 453       0\n7   satreat factor      2 453       0\n8 substance factor      3 453       0\n9     treat factor      2 453       0\n                                   distribution\n1 yes (77.2%), no (22.8%)                      \n2 male (76.4%), female (23.6%)                 \n3 no (72%), yes (28%)                          \n4 housed (53.9%), homeless (46.1%)             \n5 no (62.2%), yes (37.8%)                      \n6 black (46.6%), white (36.6%) ...             \n7 no (71.5%), yes (28.5%)                      \n8 alcohol (39.1%), cocaine (33.6%) ...         \n9 no (50.3%), yes (49.7%)                      \n\nquantitative variables:  \n               name   class       min        Q1    median        Q3       max\n1               age integer 19.000000  30.00000  35.00000  40.00000  60.00000\n2      anysubstatus integer  0.000000   1.00000   1.00000   1.00000   1.00000\n3              cesd integer  1.000000  25.00000  34.00000  41.00000  60.00000\n4                d1 integer  0.000000   1.00000   2.00000   3.00000 100.00000\n5        daysanysub integer  0.000000   5.00000  33.00000 164.25000 268.00000\n6          dayslink integer  2.000000  74.00000 361.00000 365.00000 456.00000\n7          drugrisk integer  0.000000   0.00000   0.00000   1.00000  21.00000\n8               e2b integer  1.000000   1.00000   2.00000   3.00000  21.00000\n9            female integer  0.000000   0.00000   0.00000   0.00000   1.00000\n10               i1 integer  0.000000   3.00000  13.00000  26.00000 142.00000\n11               i2 integer  0.000000   4.00000  18.00000  33.00000 184.00000\n12               id integer  1.000000 119.00000 233.00000 348.00000 470.00000\n13           indtot integer  4.000000  32.00000  38.00000  41.00000  45.00000\n14       linkstatus integer  0.000000   0.00000   0.00000   1.00000   1.00000\n15              mcs numeric  6.762923  21.67575  28.60242  40.94134  62.17550\n16              pcs numeric 14.074291  40.38438  48.87681  56.95329  74.80633\n17           pss_fr integer  0.000000   3.00000   7.00000  10.00000  14.00000\n18          sexrisk integer  0.000000   3.00000   4.00000   6.00000  14.00000\n19       avg_drinks integer  0.000000   3.00000  13.00000  26.00000 142.00000\n20       max_drinks integer  0.000000   4.00000  18.00000  33.00000 184.00000\n21 hospitalizations integer  0.000000   1.00000   2.00000   3.00000 100.00000\n          mean          sd   n missing\n1   35.6534216   7.7102660 453       0\n2    0.7723577   0.4201653 246     207\n3   32.8476821  12.5144598 453       0\n4    3.0596026   6.1875894 453       0\n5   75.3073770  79.2374134 244     209\n6  255.6055684 151.0226916 431      22\n7    1.8871681   4.3365219 452       1\n8    2.5046729   2.5245232 214     239\n9    0.2362031   0.4252180 453       0\n10  17.9072848  20.0202390 453       0\n11  24.5474614  28.0201504 453       0\n12 233.4017660 134.7467214 453       0\n13  35.7284768   7.1522016 453       0\n14   0.3781903   0.4854990 431      22\n15  31.6766783  12.8393373 453       0\n16  48.0485416  10.7846027 453       0\n17   6.7064018   3.9950056 453       0\n18   4.6423841   2.8001526 453       0\n19  17.9072848  20.0202390 453       0\n20  24.5474614  28.0201504 453       0\n21   3.0596026   6.1875894 453       0\n```\n\n\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}